<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="../css/screen.css" />
  <link rel="icon" href="../favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="../favicon.ico" type=
  "image/x-icon" />

  <title>Run Command Tutorial</title>
</head>

<body>
<div id="content">
  <h1><a name="runcmdtut_top" id="runcmdtut_top">Run Command
  Tutorial</a></h1>

  <h2><a name="runcmdtut_over" id="runcmdtut_over">Run Command
  Tutorial Overview</a></h2>

  <h3><a name="runcmdtut_scenario" id="runcmdtut_scenario">Run
  Command Tutorial Scenario</a></h3>

  <p>This tutorial introduces you to the Komodo Run Command
  feature. You will learn how to run simple and complex custom
  commands (such as <code>grep</code>, <code>make</code>, and
  <code>perl</code>); use these commands to process and analyze
  files; save commands to run with a single keystroke; and use
  commands to make Komodo a more powerful editor. In this tutorial
  you will:</p>

  <ol>
    <li><a class="doc" href="#runcmdtut_simple"><strong>Run simple
    commands</strong></a> using the Komodo Run Command
    feature.</li>

    <li><a class="doc" href="#runcmdtut_advanced"><strong>Use
    advanced command options</strong></a> to control how and where
    a command is run.</li>

    <li><a class="doc" href="#save"><strong>Save
    commands</strong></a> in the Toolbox and assign keyboard
    shortcuts.</li>

    <li><a class="doc" href="#runcmdtut_shortcuts"><strong>Using
    interpolation shortcuts</strong></a> to customize commands for
    reuse.</li>

    <li><a class="doc" href="#query_short"><strong>Prompting for
    input</strong></a> to have your commands prompt you for
    information before running.</li>

    <li><a class="doc" href="#parse"><strong>Parse command
    output</strong></a> into a list of results by specifying a
    regular expression.</li>
  </ol>

  <h3><a name="runcmdtut_openproject" id=
  "runcmdtut_openproject">Opening the Tutorial Project</a></h3>

  <p>In the <strong>File</strong> menu, click
  <strong>Open|Project</strong> and select
  <code>runcmd_tutorial.kpf</code> from the
  <code>\samples\runcmd_tutorials</code> subdirectory of the Komodo
  installation. All files included in the tutorial project are
  displayed on the <a class="doc" href=
  "../project.html#project_top">Projects sidebar</a>.</p>

  <h2><a name="runcmdtut_simple" id="runcmdtut_simple">Running
  Simple Commands</a></h2>

  <h3><a name="helloworld" id="helloworld">Hello, World!</a></h3>

  <p>The Komodo Run Command feature offers another way to run
  commands that would otherwise be run on the system command line.
  This section starts with a simple <code>echo</code> command.</p>

  <ol>
    <li>Select <strong>Tools|Run Command</strong> to open the Run
    Command dialog box.</li>

    <li style="list-style: none"><br />
    <br />
    <br />
    <img border="1" src="../img/runcommand_simple.png" /><br />
    <br /></li>

    <li>In the <strong>Run</strong> field, enter <code>echo Hello
    World</code>.</li>

    <li>Click <strong>Run</strong>. The results are displayed on
    the <strong>Command Output</strong> tab.</li>
  </ol>

  <h3><a name="outputwindow" id="outputwindow">Command Output
  Tab</a></h3>

  <p>Output from commands is displayed on the <strong>Command
  Output</strong> tab.</p>

  <div style="margin-left: 2em">
    <br />
    <img border="1" src="../img/runcommand_outputwin.png" /><br />
  </div>

  <p>Use the <strong>Command Output</strong> tab to interact with
  commands; if the command accepts input, enter it directly into
  the command on the <strong>Command Output</strong> tab. The
  <strong>Command Output</strong> tab has the following
  features:</p>

  <ul>
    <li>Output written to <code>stderr</code> (standard error
    output) is displayed in red at the top of the <strong>Command
    Output</strong> tab.</li>

    <li>To terminate a running command, click the <img src=
    "../img/runcommand_terminatebutton.png" border="0" /> button in
    the upper right-hand corner of the tab.</li>

    <li>Many keyboard shortcuts available in the Komodo editor can
    also be executed on the <strong>Command Output</strong> tab.
    For example, 'Ctrl'+'Shift'+'8' ('Cmd'+'Shift'+'8' on Mac OS
    X) displays white space and 'Ctrl'+'Shift'+'7'
    ('Cmd'+'Shift'+'7' on Mac OS X) displays line endings (if the
    default <a href=
    "../prefs.html#Config_Key_Bindings">key binding</a>
    scheme is in effect).</li>
  </ul>

  <p>The <strong>Toggle Raw/Parsed Output View</strong> button
  <img src="../img/runcommand_parsedviewbutton.png" border="0" />
  is discussed in the <a href="#parse">Parsing Command Output</a>
  section of this tutorial.</p>

  <h3><a name="insertoutput" id="insertoutput">Inserting Command
  Output</a></h3>

  <p>Insert command output into a document using the <strong>Insert
  output</strong> option.</p>

  <ol>
    <li>In the <a class="doc" href=
    "../workspace.html#places_sidebar">Placessidebar</a>,
    double-click the file <em>play.txt</em>. The file opens in the
    <a class="doc" href="../workspace.html#Editor_Pane">Editor
    Pane</a>; a tab at the top of the pane displays its name.</li>

    <li>Select <strong>Tools|Run Command</strong>.</li>

    <li>In the <strong>Run</strong> field, enter the command
    <code>dir</code> (on Windows) or <code>ls -al</code> (on
    Linux).</li>

    <li>Select the <strong>Insert output</strong> check box, and
    then click <strong>Run</strong>. The contents of Komodo's
    current directory are inserted into <em>play.txt</em>.</li>
  </ol>

  <h3><a name="filtering" id="filtering">Filtering Parts of a
  Document</a></h3>

  <p>The <strong>Pass selection as input</strong> option passes
  selected text to the specified command. Use this option together
  with the <strong>Insert output</strong> option to filter selected
  regions of a document.</p>

  <ol>
    <li>Open <em>play.txt</em> from the Run Command tutorial
    project (if it is not already open).</li>

    <li>Select all six lines containing the word
    <code>frog</code>.</li>

    <li>Select <strong>Tools|Run Command</strong>.</li>

    <li>In the <strong>Run</strong> field, enter the command
    <code>sort</code> (on Windows) or <code>sort -n</code> (on
    Linux).</li>

    <li style="list-style: none">
      <p>Note that the <strong>Pass selection</strong> as input and
      <strong>Insert output</strong> options are selected
      automatically. If one or more lines are selected in a
      document, the Run Command expects to filter the selected
      lines.</p>
    </li>

    <li>Click <strong>Run</strong> to sort the list of frogs.</li>
  </ol>

  <p>Use the <code>grep</code> command line utility to filter lines
  of text. Use <code>grep</code> to filter out all but the red
  frogs from the list.</p>

  <p>This tutorial assumes the <code>grep</code> utility is
  installed on your system and is in your system's PATH. Grep is a
  Linux utility that searches for text and characters in files.
  Windows operating system users may not have a <code>grep</code>
  installation. There are a number of free versions available on
  the Web. Search using the keywords <code>grep for
  Windows</code>.</p>

  <ol>
    <li>Open <em>play.txt</em> from the Run Command tutorial
    project (if it is not already open).</li>

    <li>Select the "5 red frogs" and "6 green frogs" lines.</li>

    <li>Select <strong>Tools|Run Command</strong>.</li>

    <li>In the <strong>Run</strong> field, enter the command
    <code>grep red</code>.</li>

    <li>Click <strong>Run</strong> to remove all but the red
    frogs.</li>
  </ol>

  <h2><a name="runcmdtut_advanced" id="runcmdtut_advanced">Using
  Advanced Options</a></h2>

  <p>Clicking the <strong>More</strong> button in the Run Command
  dialog box reveals a number of advanced options.</p><br />
  <img border="1" src="../img/runcommand_adv.png" /><br />

  <h3><a name="cwd" id="cwd">Specifying a Command's Working
  Directory</a></h3>

  <p>To set the current working directory for a command:</p>

  <ol>
    <li>Select <strong>Tools|Run Command</strong>. Click
    <strong>More</strong> to display Advanced Options.</li>

    <li>In the <strong>Run</strong> field, enter the command:
    <code>dir</code> (on Windows), or <code>ls -al</code> (on
    Linux).</li>

    <li>In the <strong>Start in</strong> field, enter <em>C:\</em>
    (on Windows), or <em>/home</em> (on Linux).</li>

    <li>Click <strong>Run</strong> to generate a <em>C:\</em>
    directory listing.</li>
  </ol>

  <h3><a name="env" id="env">Specifying Environment
  Variables</a></h3>

  <p>Specify which environment variables to set for a command. For
  example, use this feature for setting <code>PERL5LIB</code> or
  <code>PYTHONPATH</code> when running Perl or Python scripts.</p>

  <ol>
    <li>Select <strong>Tools|Run Command</strong>.</li>

    <li>In the <strong>Run</strong> field, enter the command:
    <code>set</code>.</li>

    <li>Click <strong>New...</strong> to add a new environment
    variable. For the variable name, enter:
    <code>PERL5LIB</code></li>

    <li>Click <strong>Add Path...</strong> to choose a value for
    <code>PERL5LIB</code> (the actual value you choose does not
    matter for this example). Click <strong>OK</strong>.</li>

    <li>Click <strong>Run</strong> to display all environment
    variables. Scroll through the results on the <strong>Command
    Output</strong> tab until the <code>PERL5LIB</code> setting is
    located.</li>
  </ol>

  <h3><a name="runcmdtut_console" id="runcmdtut_console">Running
  GUI Apps or Running Commands in a Console</a></h3>

  <p>Run GUI programs outside of the Command Output tab by changing
  the <strong>Run in</strong> option to <strong>No
  Console</strong>.</p>

  <ol>
    <li>Select <strong>Tools|Run Command</strong>.</li>

    <li>In the <strong>Run</strong> field, enter the command:
    <code>mozilla</code><br />
    If the Mozilla browser is not installed on your system, choose
    another GUI application to run. For example, on Windows, try
    running either the <code>iexplore</code> or
    <code>notepad</code> command.</li>

    <li>From the <strong>Run in</strong> drop-down list, select
    <strong>No Console (GUI Application)</strong>.</li>

    <li>Click <strong>Run</strong> to open the GUI application
    rather then the <strong>Command Output</strong> tab.</li>
  </ol>

  <p>To run commands in a new console window:</p>

  <ol>
    <!-- ls -al or 'man grep | less' on Linux -->

    <li>Select <strong>Tools|Run Command</strong>.</li>

    <li>In the <strong>Run</strong> field, enter the command:
    <code>dir</code></li>

    <li>From the <strong>Run in</strong> drop-down list, select
    <strong>New Console</strong>.</li>

    <li>Click <strong>Run</strong> to execute the command and open
    a new console window.</li>
  </ol>

  <h2><a name="save" id="save">Saving and Rerunning
  Commands</a></h2>

  <p>Save frequently used commands for quick access and reuse.</p>

  <h3><a name="recent" id="recent">Rerunning Recent
  Commands</a></h3>

  <p>Select <strong>Tools|Recent Commands</strong> to rerun
  recently run commands.</p><br />
  <img border="1" src="../img/runcommand_recent.png" /><br />

  <h3><a name="runcmdtut_toolbox" id="runcmdtut_toolbox">Saving
  Commands in the Toolbox</a></h3>

  <p>The Run Command dialog box contains an option for saving
  commands in the Toolbox for reuse. A command saved in the Toolbox
  is indicated with the <img src="../img/runcommand_icon.png"
  border="0" /> icon.</p>

  <p><img border="1" src="../img/runcommand_toolbox.png" /></p>

  <ol>
    <li>Select <strong>Tools|Run Command</strong>.</li>

    <li>In the <strong>Run</strong> field, enter the command:
    <code>echo Hello World</code></li>

    <li>Select the <strong>Add to Toolbox</strong> check box.</li>

    <li>Click <strong>Run</strong>. Notice that a command named
    <code>echo Hello World</code> is added to the Toolbox.</li>

    <li>Double-click the <img src="../img/runcommand_icon.png"
    border="0" /> icon next to <code>echo Hello World</code> to
    rerun the command.</li>
  </ol>

<!-- TODO needs rewrite and screenshot
  <h3><a name="project" id="project">
  Saving Commands in a
  Project</a></h3>

  <p>Commands can also be stored in a Komodo Project.</p>

  <p><img border="1" src="../img/runcommand_project.png" /></p>

  <p>For example, the Run Command Tutorial project includes a
  Command to echo "Hello World".</p>

  <p>Consider adding commands to your projects to run
  <code>make</code> or other command line tools. There are two ways
  to add commands to a project:</p>

  <ul>
    <li>Right click on a project and select <strong>Add New
    Command...</strong>.</li>

    <li>Drag and drop a command from the Toolbox sidebar or another
    open project.</li>
  </ul>
  
  -->

  <h3><a name="properties" id="properties">Editing Saved Command
  Properties</a></h3>

  <p>Edit command properties in the Command Properties dialog
  box.</p>

  <p><img border="1" src="../img/runcommand_properties.png" /></p>

  <p>To open this dialog box, right click on any saved command and
  select <strong>Properties</strong>.</p>

  <h2><a name="runcmdtut_shortcuts" id="runcmdtut_shortcuts">Using
  Interpolation Shortcuts</a></h2>

  <p>Run Command can use <a href=
  "../shortcuts.html#shortcuts_all_codes">interpolation
  shortcuts</a> for putting filenames, directory names, paths and
  other arguments into commands as variables. This creates commands
  that are more generic and useful. Enter command shortcuts in the
  Run and Start in fields, or select them from the drop-down lists
  to the right of the Run and Start in fields. Windows users should
  enclose all interpolation shortcuts (with the exception of
  <code>%(browser)</code>) in double quotation marks to ensure that
  spaces in filenames or file paths are interpreted correctly.</p>

  <p>Click the arrow button to the right of the
  <strong>Run</strong> field to view a list of Run Command
  shortcuts.</p>

  <p><img border="1" src="../img/runcommand_shortcuts.png" /></p>

  <h3><a name="file" id="file">Shortcuts for the Current
  File</a></h3>

  <p>The string <code>%F</code> in a command expands the full path
  of the current file.</p>

  <ol>
    <li>In the <strong>Projects</strong> sidebar, double-click the file
    <em>play.txt</em> to open it for editing.</li>

    <li>Select <strong>Tools|Run Command</strong>.</li>

    <li>In the <strong>Run</strong> field, enter the command:<br />
    <code>echo "%F"</code></li>

    <li>Click <strong>Run</strong>.</li>
  </ol>

  <p>Change the current file status from "writable" to
  "read-only".</p>

  <ol>
    <li>Open <em>play.txt</em> (if it is not already open).</li>

    <li>Select <strong>Tools|Run Command</strong>.</li>

    <li>In the <strong>Run</strong> field, enter the command:<br />
    <code>attrib +R "%F"</code><br />
    on Windows, or:<br />
    <code>chmod u+w "%F"</code><br />
    on Linux.</li>

    <li>Click <strong>Run</strong>. The result is displayed at the
    top of the <strong>Command Output</strong> tab.</li>
  </ol>

  <p>To open a current HTML file in a Web browser, combine %F with
  the %(browser) shortcut.</p>

  <ol>
    <li>In the <strong>Projects</strong> sidebar, double-click the file
    <em>index.html</em>.</li>

    <li>Select <strong>Tools|Run Command</strong>.</li>

    <li>Click the arrow to the right the <strong>Run</strong> field
    to display the shortcuts drop-down list. Select
    <strong>%browser</strong>, press the space bar, and then select
    <strong>%F</strong>. Enclose the <code>%F</code> in double
    quotation marks. On Mac OS X, you wil have to add 'open'
    at the beginning of the command if Safari is your default browser.</li>

    <li>From the <strong>Run in</strong> drop-down menu, select
    <strong>No Console (GUI Application)</strong>.</li>

    <li>Click <strong>Run</strong>.</li>
  </ol>

  <h3><a name="selection" id="selection">Shortcuts for the Current
  Selection</a></h3>

  <p>The %s, %S, %w and %W codes insert current selections, or the
  current word under the cursor, into commands. This shortcut helps
  when running utilities like <code>grep</code>, or for searching
  the Web.</p>

  <ol>
    <li>In the <strong>Projects</strong> sidebar, double-click the file
    <em>index.html</em>.</li>

    <li>Position the cursor over the word "PHP" in
    <em>index.html</em>.</li>

    <li>Select <strong>Tools|Run Command</strong>.</li>

    <li>In the <strong>Run</strong> field, enter the command:<br />
    <code>%(browser)
    http://www.google.com/search?q="%W"</code>.</li>

    <li>Select the <strong>Add to Toolbox</strong> check box to
    save this command.</li>

    <li>Click <strong>Run</strong> to search for "PHP" with
    Google.</li>
  </ol>

  <p>Now that you have searched for a word or selection in Google,
  try the following shortcut to search for PHP methods.</p>

  <ol>
    <li>Open <em>index.html</em>.</li>

    <li>Select the text <code>mysql_info methods</code> in the
    file.</li>

    <li>Select <strong>Tools|Run Command</strong>.</li>

    <li>In the <strong>Run</strong> field, enter the command
    "<code>%(browser)
    http://www.php.net/manual-lookup.php?pattern=%S</code>".</li>

    <li>Select the <strong>Add to Toolbox</strong> check box to
    save this command.</li>

    <li>Click <strong>Run</strong> to search <code>mysql_info
    methods</code> in PHP's online manual.</li>
  </ol>

  <p>These two commands are built into Komodo. If the default
  <a href="../prefs.html#Config_Key_Bindings">key
  binding</a> scheme is in effect, 'Ctrl'+'F1' ('Cmd'+'Ctrl'+'/'
  on Mac OS X) starts a Google search for the current selection.
  'Shift'+'F1' ('Cmd'+'/' on OS X) in a Perl, Python or PHP file
  starts a help search appropriate for that language. Customize
  searches in the Preferences dialog box
  (<strong>Edit|Preferences|Language Help</strong>).</p>

  <h3><a name="directory" id="directory">Using Shortcuts for a
  Command's Directory</a></h3>

  <p>Run commands from the directory where the current file is
  stored, rather then the current directory. For example, use the
  command <code>%(perl) "%F"</code> to run the current file with a
  configured Perl interpreter.</p>

  <ol>
    <li>In the <strong>Projects</strong> sidebar, double-click the file
    <em>hello.pl</em>.</li>

    <li>Select <strong>Tools|Run Command</strong>.</li>

    <li>In the <strong>Run</strong> field, enter the command:<br />
    <code>%(perl) "%F"</code></li>

    <li>In the <strong>Start in</strong> field, enter:
    <code>"%D"</code></li>

    <li>Click <strong>Run</strong>.</li>
  </ol>

  <p>This example assumes a perl interpreter is configured on your
  system. If a perl interpreter is not configured (the required
  file is perl.exe), an error message displays at the top of the
  <strong>Command Output</strong> tab. Alternatively, run the
  command <code>dir</code> (Windows) or <code>ls</code> (Linux) to
  display a list of files and folders beneath the current
  directory.</p>

  <h2><a name="query_short" id="query_short">Prompting for
  Input</a></h2>

  <h3><a name="runcmdtut_intro" id=
  "runcmdtut_intro">Introduction</a></h3>

  <p>Run Commands can prompt for specific input with a dialog box.
  These queries can be configured with default values and/or prompt
  the user if no value could be determined automatically (e.g. a
  command to search Google for the current selection that prompts
  for a search term if nothing is selected).</p>

  <p>The <code>%(ask)</code> and <code>%(askpass)</code> shortcuts
  always prompts the user for data. Other shortcuts can use the
  <code>orask</code> modifier to prompt the user if no valid value
  could be determined.</p>

  <p>Windows users should enclose all Komodo shortcuts (with the
  exception of <code>%(browser)</code>) in double quotation marks.
  This is necessary to ensure that any spaces in filenames or file
  paths are interpreted correctly.</p>

  <h3><a name="ask" id="ask">Always Prompting with %(ask) or
  %(askpass)</a></h3>

  <p>The full syntax of <code>%(ask)</code> and
  <code>%(askpass)</code> shortcut are:</p>
  <pre class="code">
%(ask[:NAME:[DEFAULT]])
%(askpass[:NAME:[DEFAULT]])
</pre>where <code>NAME</code> is an optional name to use when
prompting in the dialog box and <code>DEFAULT</code> is an optional
default value to place in the dialog box.

  <p>For example:</p>

  <ol>
    <li>Select <strong>Tools|Run Command</strong>.</li>

    <li>In the <strong>Run</strong> field, enter the command:
    <code>echo Your favorite number is "%(ask)"</code></li>

    <li>Click the <strong>Run</strong> button to run the command.
    The Interpolation Query dialog box is displayed.<br />

      <p><img border="1" src="../img/runcommand_ask1.png" /></p>
    </li>

    <li>Enter your favorite number and click <strong>OK</strong> to
    finish running the command.</li>
  </ol>

  <p>Refine this shortcut by adding a more meaningful name than
  "Value 0" and a more appropriate default value.</p>

  <ol>
    <li>Select <strong>Tools|Run Command</strong>.</li>

    <li>In the <strong>Run</strong> field, enter the command:
    <code>echo Your favorite number is "%(ask:Fav
    Number:42)"</code></li>

    <li>Click the <strong>Run</strong> button to run the command.
    The Interpolation Query dialog box will now look like
    this:<br />

      <p><img border="1" src="../img/runcommand_ask2.png" /></p>
    </li>

    <li>If your favorite number does not happen to be 42, enter a
    different number and click <strong>OK</strong> to finish
    running the command.</li>
  </ol>

  <h3><a name="orask" id="orask">Prompting When Necessary with
  %(...:orask)</a></h3>

  <p>Any Run Command shortcut can be modified to prompt the user
  for a value if one cannot be determined automatically. The full
  syntax of the modified shortcut is:</p>
  <pre class="code">
%(SHORTCUT:orask[:NAME])
</pre>where <code>NAME</code> is an optional name to use when
prompting in the dialog box.

  <p>In the previous step we created a shortcut to search for the
  selected word on Google with the command:</p>
  <pre class="code">
%(browser) http://www.google.com/search?q="%W"
</pre>However, if nothing has been selected and there is no word
under the cursor, the command fails. In this case, it would be
better if the command prompted you for a search term.

  <ol>
    <li>Be sure your cursor is <em>not</em> positioned over a
    word.</li>

    <li>Select <strong>Tools|Run Command</strong>.</li>

    <li>In the <strong>Run</strong> field, enter the command:<br />
    <code>%(browser)
    http://www.google.com/search?q="%(W:orask:Search
    for)"</code></li>

    <li>Click <strong>Run</strong>. The Interpolation Query dialog
    box prompts for a search term.</li>
  </ol>

  <h2><a name="parse" id="parse">Parsing Command Output</a></h2>

  <h3><a name="runcmdtut_parsing_intro" id=
  "runcmdtut_parsing_intro">Introduction</a></h3>

  <p>Use Run Commands to specify a regular expression to parse
  filename and line number information from lines of output. The
  parsed results are displayed in a table to quickly identify the
  desired file. Explore this usage by creating a "Find in Files"
  command later in this section.</p>

  <h3><a name="runcmdtut_regex" id="runcmdtut_regex">Parsing Output
  with a Regular Expression</a></h3>

  <p>Output from a run command can be parsed with a <a href=
  "../regex-intro.html#python_regex_syntax">Python
  regular expression</a> and displayed in the <strong>Command
  Output</strong> tab as a list.</p>

  <table align="center">
    <tr>
      <td class="startupBox">
        <p><strong>Komodo Tip</strong>: Use the Komodo <a class=
        "doc" href="../regex.html#regex_top">Rx
        Toolkit</a> to build, edit, or test regular expressions.
        New to regular expressions? The <a class="doc" href=
        "../regex-intro.html#regex-intro_top">Regular
        Expressions Primer</a> is a tutorial for those wanting to
        learn more about regex syntax.</p>
      </td>
    </tr>
  </table>

  <p>Named groups in Python regular expressions (e.g.
  <code>(?P&lt;<em>name</em>&gt;<em>pattern</em>)</code> ) can be
  used to sort match data. The names 'file', 'line', 'column' and
  'content' can be used as column titles in Parsed Ouptut mode,
  with the matching text displayed in the columns under the
  names.</p>

  <p>For example, the output of the "<a href="#fif">Find in
  Files</a>" example below contains the following:<br /></p>
  <pre class="code">
hello.pl:5:print "Hello, frogs!\n";
</pre>

  <p>Output lines are of the form:</p>
  <pre class="code">
&lt;file&gt;:&lt;line&gt;:&lt;content&gt;
</pre>

  <p>An regular expression to match the important elements of this
  line could be:</p>
  <pre class="code">
(.+?):(\d+):(.*)
</pre>

  <p>However, to view this information as a useful list, we need to
  define the column headings by naming the groups:</p>
  <pre class="code">
(?P&lt;file&gt;.+?):(?P&lt;line&gt;\d+):(?P&lt;content&gt;.*)
</pre>

  <p>When parsing the run command output, Komodo determines that
  <code>hello.pl</code> is the <em>file</em>, <code>5</code> is the
  <em>line</em> and <code>print "Hello, frogs!\n";</code> is the
  <em>content</em>, and displays the output sorted into the
  appropriate columns:</p>

  <p><img border="1" src=
  "../img/runcommand_parsedoutput.png" /></p>

  <p>Parts of the output that match <em>outside</em> the named
  groups in the regular expression (e.g. the ":" delimiters seen
  above) are visible when viewed as raw output, but are hidden when
  viewed as a list. You can use this technique to filter out
  extraneous information when viewing output as a list.</p>

  <p>For example, if you were not interested in viewing the line
  number of the match, you could change the regular expression to
  the following:</p>
  <pre class="code">
(?P&lt;file&gt;.+?):\d+:(?P&lt;content&gt;.*)
</pre>

  <p>Komodo can use the information from the 'file' and 'line'
  groups to open a file in an editor tab at a particular line (see
  below).</p>

  <h3><a name="fif" id="fif">Using "Find in Files"</a></h3>

  <p>Create a "Find in Files" command using all information
  presented in this tutorial.</p>

  <ol>
    <li>In the <strong>Projects</strong> sidebar, double-click the file
    <em>hello.pl</em>.</li>

    <li>Position the cursor over the word <em>frogs</em>.</li>

    <li>Select <strong>Tools|Run Command</strong>.</li>

    <li>On Windows, enter the command:<br />
      <code>findstr /s /n /c:"%(w:orask:Search Term)" "%(ask:File
      Pattern:*.*)"</code><br />
      Or on Linux enter the command:<br />
      <code>find . -name "%(ask:File Pattern:*)" | xargs -l grep
      -nH "%(w:orask:Search Term)"</code><br />

      <p>Note that <em>findstr</em> is a Windows command line
      utility that searches for strings in files.</p>
    </li>

    <li>Select the <strong>Add to Toolbox</strong> check box to
    save this command.</li>

    <li>In the <strong>Start in</strong> field, enter:<br />
    <code>%(ask:Start Directory:%D)</code><br />
    (When the command is run, Komodo should prompt for the "Start
    Directory" using the directory of the current file, or
    <code>%D</code> as the default value).</li>

    <li>Select the <strong>Parse output with</strong> check box and
    enter:<br />
    <code>^(?P&lt;file&gt;.+?):(?P&lt;line&gt;\d+):(?P&lt;content&gt;.*)$</code><br />

    as the regular expression with which to parse.</li>

    <li>Select the <strong>Show parsed output as a list</strong>
    check box.</li>

    <li>Click <strong>Run</strong>. The Interpolation Query dialog
    box is displayed.<br />

      <p><img border="1" src=
      "../img/runcommand_findinfiles.png" /></p>
    </li>

    <li>Click <strong>OK</strong> to run <em>findstr</em>. A list
    of all occurrences of "frogs" in the files of the Run Command
    tutorial project is displayed on the Command Output tab.<br />


      <p><img border="1" src=
      "../img/runcommand_parsedoutput.png" /></p>
    </li>

    <li>Double-click on a result to jump to a specific file and line.</li>

    <li>Click the Toggle Raw/Parsed Output <img src="../img/runcommand_parsedviewbutton.png"
      border="0" /> button to see the raw output instead.</li>
  </ol>
  <hr />

</div> <!-- content -->
</body>
</html>
